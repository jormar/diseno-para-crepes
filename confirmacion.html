<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Home</title>
        <link href = "style.css" rel = "stylesheet" type = "text/css" />
        <script src="js/jquery-1.9.0.js" type="text/javascript"></script>        

        <!--<link href = "js/jquery-ui-1.10.3/themes/base/jquery-ui.css" rel = "stylesheet" type = "text/css" />-->
        <script src="js/jquery-ui-1.10.3/ui/jquery-ui.js" type="text/javascript"></script>
        
    </head>
    <body>
        
        <header>
            <a class = "main_logo" href = "home.html"></a>

            <input type = "button" class = "menu_btn" />
            <a id="go_to_cart">
                <img src="img/_carrito_crepe.png" />
                <input id="totalSeleccion" type="text" />
            </a>
            <div class = "menu">
                <ul class = "menu_list">
                    <li>
                        <a class = "menu_link" href = "galeria.html">Galeria</a>
                    </li>
                    <li>
                        <a class = "menu_link" href = "menu.html">Menu</a>
                    </li>
                    <li>
                        <a class = "menu_link" href = "quienessomos.html">Quienes somos</a>
                    </li>
                    <li>
                        <a class = "menu_link">Link a categoria</a>
                    </li>
                </ul>
            </div>
        </header>

        <div class = "main_content">
            <div id="welcome_msg_container">
                <img src="img/_DesplegadoAbajo1.png">
                <span id="welcome_name">Buenas tardes Ruben López</span>
                <br>
                <span class="brown" id="points">Puntos acumulados:</span>
                <span class="brown" id="points_ammounts">1000</span>
            </div>

            <form class="confirmation_container">
                <table border="1" class="resumen">
                    <thead>
                        <tr class="theadertop">
                            <th>Nombre</th>
                            <th>Precio</th>
                            <th>Cant.</th>
                            <th colspan="2" class="noborder" >Total</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- comienza una seccion (Saladas, por ejemplo) -->
                        <tr class="theader">
                            <td colspan="5">Crepes Saladas</td>
                        </tr>
                        <tr class="trow">
                            <td>Maiz a la crema con queso telita</td>
                            <td>00000.00</td>
                            <td>000</td>
                            <td>00000.00</td>
                            <td class="right">
                                <a href="#" class="add_extra">
                                    <img alt="" src="img/extra.png" />
                                </a>
                            </td>
                        </tr>
                        <tr class="trow">
                            <td>Maiz a la crema con queso telita</td>
                            <td>00000.00</td>
                            <td>000</td>
                            <td>00000.00</td>
                            <td class="right">
                                <a href="#" class="add_extra">
                                    <img alt="" src="img/extra.png" />
                                </a>
                            </td>
                        </tr>


                        <!-- comienza una seccion (Dulces, por ejemplo) -->
                        <tr class="theader">
                            <td colspan="5">Dulces</td>
                        </tr>
                        <tr class="trow">
                            <td>Maiz a la crema con queso telita</td>
                            <td>00000.00</td>
                            <td>000</td>
                            <td>00000.00</td>
                            <td class="right">
                                <a href="#" class="add_extra">
                                    <img alt="" src="img/extra.png" />
                                </a>
                            </td>
                        </tr>
                        <tr class="trow">
                            <td>Maiz a la crema con queso telita</td>
                            <td>00000.00</td>
                            <td>000</td>
                            <td>00000.00</td>
                            <td class="right">
                                <a href="#" class="add_extra">
                                    <img alt="" src="img/extra.png" />
                                </a>
                            </td>
                        </tr>


                        <!-- Totales -->
                        <tr class="ttotal">
                            <td colspan="1">Total</td>
                            <td></td><!-- Completa la maquetacion -->
                            <td></td><!-- Completa la maquetacion -->
                            <td colspan="1" class="">000000.00</td>
                            <td></td><!-- Completa la maquetacion -->
                        </tr>
                    </tbody>
                </table>

                <div class = "center">
                    <a href="#" class ="custom_btn" id="pedir_btn">Pedir</a>
                    <a href="#" class ="custom_btn" id="cancelar_btn">Cancelar</a>
                </div>
            </form>
        </div>


        <!-- Ventana para los extras -->
        <div id="dialog-modal-confirm" title="Confirmación" class="hide">
            <p>¿Está seguro que desea confirmar este pedido?</p>
            <div class = "center">
                <a href="#" class ="custom_btn">Aceptar</a>
                <a href="#" class ="custom_btn close_action">Cancelar</a>
            </div>
        </div>


        <!-- Ventana para los extras -->
        <div id="dialog-modal-extra" title="Selección de Extras" class="hide">
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 1</label>
            </div>
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 2</label>
            </div>
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 3</label>
            </div>
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 4</label>
            </div>
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 5</label>
            </div>
            <div class="extra_container">
                <div class="custom_checkbox"><input type="checkbox" /></div>
                <label>Extra 6</label>
            </div>
            <div class = "center">
                <a href="#" class ="custom_btn accept_action">Aceptar</a>
                <a href="#" class ="custom_btn close_action">Cancelar</a>
            </div>
        </div>

        <script type="text/javascript">

            $(document).ready(function()
            {
                /*
                 *  Funcionamiento de los diaogos modales en General
                 */
                $(document).on("click", ".close_action", function(e){
                    $( this ).parent().parent().dialog( "close" );
                    e.preventDefault();
                    return false;
                });



                /*
                 *  Funcionamiento del dialogo de confirmacion
                 */
                $("#pedir_btn").on("click", function(e){
                    $( "#dialog-modal-confirm" ).dialog({
                        // height: 140,
                        // width: "30%",
                        modal: true
                    });
                    e.preventDefault();
                    return false;
                });



                /*
                 *  Funcionamiento del dialogo de extras
                 */
                $(".add_extra").on("click", function(e){
                    $( "#dialog-modal-extra" ).dialog({
                        modal: true
                    });
                    e.preventDefault();
                    return false;
                });

                $("#dialog-modal-extra .accept_action").on("click", function(e){
                    // Por ahora, unicamente cerramos la ventana de extras
                    // ...Aqui deberiamos hacer algo con estos extras seleccionados

                    // Cerrar dialogo
                    $( this ).parent().parent().dialog( "close" );
                });




                var height = $(window).height();
                var heightNoHeader = height-45;
                $(".main_content").height(heightNoHeader);
                $(".menu_btn").click(function(){
                    $(".menu").slideToggle();
                });

                $(".li_hover").click(function(){
                    $(".detailed_ingredient_container").show();
                });


                // Funcionamiento para los checks
                $(".custom_checkbox").off("click");
                $(".custom_checkbox").on("click", function(){
                    // $(this).toggleClass("active");
                    $(this).parent().toggleClass("active");
                    var check = $(this).find("input");
                    if ( check.is(':checked') ) {
                        check.attr('checked', false);
                        $(this).parent().find("input[type=text]").attr("readonly", true);
                    } else {
                        check.attr('checked', true);
                        $(this).parent().find("input[type=text]").attr("readonly", false);
                    }
                })

                $(".custom_checkbox").each(function(i){
                    var check = $(this).find("input");
                    if ( check.is(':checked') ) {
                        $(this).parent().addClass("active");
                    } else {
                        $(this).parent().removeClass("active");
                    }
                });

            });

        </script>
    </body>
    
</html>